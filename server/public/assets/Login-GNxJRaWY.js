import{o as S,p as k,y as F,q as P,r as i,H as o,j as e,D as L,O as D,P as q,w as C,L as h,Q as R}from"./index-cLXZ2XQB.js";import{m as j}from"./proxy-vYrq3Jt8.js";const O=()=>{var u,x;const g=S(),b=k(),f=F(),{loading:m,error:n}=P(s=>s.auth),[r,N]=i.useState({email:"",password:""}),[l,y]=i.useState(!1),[t,d]=i.useState({});(x=(u=f.state)==null?void 0:u.from)!=null&&x.pathname,i.useEffect(()=>{n&&o.error(n)},[n]);const v=()=>{const s={},a=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return r.email?a.test(r.email)||(s.email="Please enter a valid email address"):s.email="Email is required",r.password?r.password.length<6&&(s.password="Password must be at least 6 characters"):s.password="Password is required",d(s),Object.keys(s).length===0},p=s=>{const{name:a,value:E}=s.target;N(c=>({...c,[a]:E})),t[a]&&d(c=>({...c,[a]:""}))},w=async s=>{if(s.preventDefault(),!!v())try{const a=await g(R(r)).unwrap();o.success("Login successful!"),b("/")}catch(a){o.error(a.message||"Login failed. Please try again.")}};return e.jsx(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},className:"min-vh-100 d-flex align-items-center justify-content-center bg-light",children:e.jsx("div",{className:"container",children:e.jsx("div",{className:"row justify-content-center",children:e.jsx("div",{className:"col-md-6 col-lg-4",children:e.jsx(j.div,{initial:{scale:.95},animate:{scale:1},className:"card shadow-lg border-0 rounded-lg",children:e.jsxs("div",{className:"card-body p-4 p-md-5",children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("h2",{className:"text-primary fw-bold",children:"Welcome Back"}),e.jsx("p",{className:"text-muted",children:"Sign in to access your account"})]}),e.jsxs("form",{onSubmit:w,className:"needs-validation",noValidate:!0,children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label fw-medium",children:"Email Address"}),e.jsxs("div",{className:"input-group",children:[e.jsx("span",{className:"input-group-text bg-light",children:e.jsx(L,{className:"text-primary"})}),e.jsx("input",{type:"email",className:`form-control ${t.email?"is-invalid":""}`,name:"email",value:r.email,onChange:p,placeholder:"Enter your email",required:!0}),t.email&&e.jsx("div",{className:"invalid-feedback",children:t.email})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"form-label fw-medium",children:"Password"}),e.jsxs("div",{className:"input-group",children:[e.jsx("span",{className:"input-group-text bg-light",children:e.jsx(D,{className:"text-primary"})}),e.jsx("input",{type:l?"text":"password",className:`form-control ${t.password?"is-invalid":""}`,name:"password",value:r.password,onChange:p,placeholder:"Enter your password",required:!0}),e.jsx("button",{type:"button",className:"input-group-text bg-light",onClick:()=>y(!l),children:l?e.jsx(q,{className:"text-primary"}):e.jsx(C,{className:"text-primary"})}),t.password&&e.jsx("div",{className:"invalid-feedback",children:t.password})]})]}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[e.jsxs("div",{className:"form-check",children:[e.jsx("input",{type:"checkbox",className:"form-check-input",id:"rememberMe"}),e.jsx("label",{className:"form-check-label",htmlFor:"rememberMe",children:"Remember me"})]}),e.jsx(h,{to:"/forgot-password",className:"text-primary text-decoration-none",children:"Forgot Password?"})]}),e.jsx("button",{type:"submit",className:"btn btn-primary w-100 py-2 mb-3",disabled:m,children:m?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status"}),"Signing in..."]}):"Sign In"}),e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"mb-0",children:["Don't have an account?"," ",e.jsx(h,{to:"/register",className:"text-primary text-decoration-none fw-medium",children:"Sign Up"})]})})]})]})})})})})})};export{O as default};
