import{p as g,o as N,q as b,r as d,j as e,ad as y,D as f,O as v,P as w,w as S,ae as A,H as l}from"./index-cLXZ2XQB.js";import{m}from"./proxy-vYrq3Jt8.js";const P=()=>{const o=g(),p=N(),{loading:s,error:E}=b(a=>a.auth),[r,u]=d.useState({email:"",password:"",role:"admin"}),[n,x]=d.useState(!1),c=a=>{const{name:t,value:i}=a.target;u(j=>({...j,[t]:i}))},h=async a=>{var t;a.preventDefault();try{((t=(await p(A(r)).unwrap()).user)==null?void 0:t.role)==="admin"?(l.success("Admin login successful!"),o("/admin")):l.error("You are not authorized as admin")}catch(i){l.error(i.message||"Admin login failed. Please try again.")}};return e.jsx(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},className:"min-vh-100 d-flex align-items-center justify-content-center bg-light",children:e.jsx("div",{className:"container",children:e.jsx("div",{className:"row justify-content-center",children:e.jsx("div",{className:"col-md-6 col-lg-4",children:e.jsx(m.div,{initial:{scale:.95},animate:{scale:1},className:"card shadow-lg border-0 rounded-lg",children:e.jsxs("div",{className:"card-body p-4 p-md-5",children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx(y,{className:"text-primary mb-3",size:48}),e.jsx("h2",{className:"text-primary fw-bold",children:"Admin Access"}),e.jsx("p",{className:"text-muted",children:"Sign in to access admin panel"})]}),e.jsxs("form",{onSubmit:h,className:"needs-validation",noValidate:!0,children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label fw-medium",children:"Email Address"}),e.jsxs("div",{className:"input-group",children:[e.jsx("span",{className:"input-group-text bg-light",children:e.jsx(f,{className:"text-primary"})}),e.jsx("input",{type:"email",className:"form-control",name:"email",value:r.email,onChange:c,placeholder:"Enter admin email",required:!0,disabled:s})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"form-label fw-medium",children:"Password"}),e.jsxs("div",{className:"input-group",children:[e.jsx("span",{className:"input-group-text bg-light",children:e.jsx(v,{className:"text-primary"})}),e.jsx("input",{type:n?"text":"password",className:"form-control",name:"password",value:r.password,onChange:c,placeholder:"Enter admin password",required:!0,disabled:s}),e.jsx("button",{type:"button",className:"input-group-text bg-light",onClick:()=>x(!n),disabled:s,children:n?e.jsx(w,{className:"text-primary"}):e.jsx(S,{className:"text-primary"})})]})]}),e.jsx("button",{type:"submit",className:"btn btn-primary w-100 py-2 mb-3",disabled:s,children:s?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status"}),"Signing in..."]}):"Admin Login"}),e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"mb-0",children:e.jsx("a",{href:"/",className:"text-primary text-decoration-none fw-medium",children:"Back to Home"})})})]})]})})})})})})};export{P as default};
