import{p as C,r as n,j as s,S as E,D as S,O as x,P as h,w as f,L as k,I as F,H as g}from"./index-cLXZ2XQB.js";import{m as j}from"./proxy-vYrq3Jt8.js";const R=()=>{const w=C(),[e,N]=n.useState({username:"",email:"",password:"",confirmPassword:""}),[m,b]=n.useState(!1),[c,v]=n.useState(!1),[u,d]=n.useState(!1),[r,p]=n.useState({}),y=()=>{const a={},i=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return e.username.trim()?e.username.length<3&&(a.username="Username must be at least 3 characters"):a.username="Username is required",e.email?i.test(e.email)||(a.email="Please enter a valid email address"):a.email="Email is required",e.password?e.password.length<6&&(a.password="Password must be at least 6 characters"):a.password="Password is required",e.confirmPassword?e.password!==e.confirmPassword&&(a.confirmPassword="Passwords do not match"):a.confirmPassword="Please confirm your password",p(a),Object.keys(a).length===0},l=a=>{const{name:i,value:o}=a.target;N(t=>({...t,[i]:o})),r[i]&&p(t=>({...t,[i]:""}))},P=async a=>{var i,o;if(a.preventDefault(),d(!0),!y()){d(!1);return}try{const t=await F.post("/register",{username:e.username,email:e.email,password:e.password});g.success("Registration successful! Please login."),w("/login")}catch(t){g.error(((o=(i=t.response)==null?void 0:i.data)==null?void 0:o.message)||"Registration failed. Please try again.")}finally{d(!1)}};return s.jsx(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},className:"min-vh-100 d-flex align-items-center justify-content-center bg-light",children:s.jsx("div",{className:"container",children:s.jsx("div",{className:"row justify-content-center",children:s.jsx("div",{className:"col-md-6 col-lg-4",children:s.jsx(j.div,{initial:{scale:.95},animate:{scale:1},className:"card shadow-lg border-0 rounded-lg",children:s.jsxs("div",{className:"card-body p-4 p-md-5",children:[s.jsxs("div",{className:"text-center mb-4",children:[s.jsx("h2",{className:"text-primary fw-bold",children:"Create Account"}),s.jsx("p",{className:"text-muted",children:"Join us for an amazing experience"})]}),s.jsxs("form",{onSubmit:P,className:"needs-validation",noValidate:!0,children:[s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label fw-medium",children:"Username"}),s.jsxs("div",{className:"input-group",children:[s.jsx("span",{className:"input-group-text bg-light",children:s.jsx(E,{className:"text-primary"})}),s.jsx("input",{type:"text",className:`form-control ${r.username?"is-invalid":""}`,name:"username",value:e.username,onChange:l,placeholder:"Enter your username",required:!0}),r.username&&s.jsx("div",{className:"invalid-feedback",children:r.username})]})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label fw-medium",children:"Email Address"}),s.jsxs("div",{className:"input-group",children:[s.jsx("span",{className:"input-group-text bg-light",children:s.jsx(S,{className:"text-primary"})}),s.jsx("input",{type:"email",className:`form-control ${r.email?"is-invalid":""}`,name:"email",value:e.email,onChange:l,placeholder:"Enter your email",required:!0}),r.email&&s.jsx("div",{className:"invalid-feedback",children:r.email})]})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label fw-medium",children:"Password"}),s.jsxs("div",{className:"input-group",children:[s.jsx("span",{className:"input-group-text bg-light",children:s.jsx(x,{className:"text-primary"})}),s.jsx("input",{type:m?"text":"password",className:`form-control ${r.password?"is-invalid":""}`,name:"password",value:e.password,onChange:l,placeholder:"Enter your password",required:!0}),s.jsx("button",{type:"button",className:"input-group-text bg-light",onClick:()=>b(!m),children:m?s.jsx(h,{className:"text-primary"}):s.jsx(f,{className:"text-primary"})}),r.password&&s.jsx("div",{className:"invalid-feedback",children:r.password})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"form-label fw-medium",children:"Confirm Password"}),s.jsxs("div",{className:"input-group",children:[s.jsx("span",{className:"input-group-text bg-light",children:s.jsx(x,{className:"text-primary"})}),s.jsx("input",{type:c?"text":"password",className:`form-control ${r.confirmPassword?"is-invalid":""}`,name:"confirmPassword",value:e.confirmPassword,onChange:l,placeholder:"Confirm your password",required:!0}),s.jsx("button",{type:"button",className:"input-group-text bg-light",onClick:()=>v(!c),children:c?s.jsx(h,{className:"text-primary"}):s.jsx(f,{className:"text-primary"})}),r.confirmPassword&&s.jsx("div",{className:"invalid-feedback",children:r.confirmPassword})]})]}),s.jsx("button",{type:"submit",className:"btn btn-primary w-100 py-2 mb-3",disabled:u,children:u?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status"}),"Creating Account..."]}):"Create Account"}),s.jsx("div",{className:"text-center",children:s.jsxs("p",{className:"mb-0",children:["Already have an account?"," ",s.jsx(k,{to:"/login",className:"text-primary text-decoration-none fw-medium",children:"Sign In"})]})})]})]})})})})})})};export{R as default};
