import{r as i,j as e,v as l,z as d,G as a}from"./index-cLXZ2XQB.js";const x=()=>{const[t,r]=i.useState([]),n=async()=>{try{const s=await a.get("http://localhost:3000/api/get/booking");console.log(s.data),r(s.data)}catch(s){console.error("Error fetching bookings:",s)}},o=async s=>{try{(await a.put(`http://localhost:3000/api/confirm/${s}`)).status===200&&(alert("Booking confirmed and email sent!"),n())}catch(c){console.error("Error confirming booking:",c),alert("Failed to confirm booking.")}};return i.useEffect(()=>{n()},[]),e.jsxs("div",{className:"container-fluid py-4",children:[e.jsx("h2",{className:"mb-4",children:"Manage Bookings"}),e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-body",children:e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-hover",children:[e.jsx("thead",{className:"table-light",children:e.jsxs("tr",{children:[e.jsx("th",{children:"ID"}),e.jsx("th",{children:"Guest Name"}),e.jsx("th",{children:"Room"}),e.jsx("th",{children:"Check In"}),e.jsx("th",{children:"Check Out"}),e.jsx("th",{children:"Payment Method"}),e.jsx("th",{children:"Email"}),e.jsx("th",{children:"Phone"}),e.jsx("th",{children:"Total Amount"}),e.jsx("th",{children:"Special Request"}),e.jsx("th",{children:"Booking Time"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Confirm"}),e.jsx("th",{children:"Actions"})]})}),e.jsxs("tbody",{children:[t.map(s=>e.jsxs("tr",{children:[e.jsx("td",{children:s._id}),e.jsx("td",{children:s.name}),e.jsx("td",{children:s.roomName||"N/A"}),e.jsx("td",{children:new Date(s.checkIn).toLocaleDateString()}),e.jsx("td",{children:new Date(s.checkOut).toLocaleDateString()}),e.jsx("td",{children:s.paymentMethod}),e.jsx("td",{children:s.email}),e.jsx("td",{children:s.phone}),e.jsxs("td",{children:["$",s.totalAmount]}),e.jsx("td",{children:s.specialRequests||"N/A"}),e.jsx("td",{children:new Date(s.createdAt).toLocaleString()}),e.jsx("td",{children:e.jsx("span",{className:`badge bg-${s.status==="Confirmed"?"success":"warning"}`,children:s.status||"Pending"})}),e.jsx("td",{children:s.status!=="Confirmed"&&e.jsx("button",{onClick:()=>o(s._id),className:"btn btn-success btn-sm",children:"Confirm"})}),e.jsxs("td",{children:[e.jsx("button",{className:"btn btn-sm btn-outline-success me-2",children:e.jsx(l,{})}),e.jsx("button",{className:"btn btn-sm btn-outline-danger",children:e.jsx(d,{})})]})]},s._id)),t.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:"14",className:"text-center text-muted",children:"No bookings available."})})]})]})})})})]})};export{x as default};
